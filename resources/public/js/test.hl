
(def f
  (fn [x]
    (let [y (div x (h2 "foo"))
          z (div x (h2 "bar"))]
      (if p
        (log '"omfg got here")
        (log '"omfg false"))
      (div
        (h1 "Hello there...")
        y
        z))))

(def g
  (fn [x]
    '(call f x)))

(def when 
  (macro [predicate & body]
    (syntax-quote
      (if (unquote predicate)
        (do (unquote-splicing body))))))
