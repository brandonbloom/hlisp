
(def when 
  (macro [predicate & body]
    (syntax-quote
      (do
        (log '"---->")
        (if (unquote predicate)
          (do (unquote-splicing body))
          'nil)))))

(def f
  (fn [x]
    (let [y (div x (h2 "foo"))
          z (div x (h2 "bar"))]
      (when 'false
        (log '"zomg hey here")
        (log '"omfg got here"))
      (log '"asdf")
      (div
        (h1 "Hello there...")
        y
        z))))

(def g
  (fn [x]
    '(call f x)))






